# Từ điển Hành vi - Danh sách theo Nhóm

## Wireframe

```
┌─────────────────────────────────┐
│ 9:41  ← Chống đối & Bướng bỉnh🔍│
├─────────────────────────────────┤
│                                 │
│  😤 CHỐNG ĐỐI & BƯỚNG BỈNH      │
│  Opposition & Defiance          │
│  🎓 Evidence-based              │
│                                 │
│  ┌───────────────────────────┐ │
│  │ 📊 THỐNG KÊ NHÓM          │ │
│  │                           │ │
│  │ 2 hành vi trong nhóm      │ │
│  │ 77 lần ghi nhận (hệ thống)│ │
│  │ 13 lần (học sinh của bạn) │ │
│  │                           │ │
│  │ 📈 Xu hướng: ↗️ +18% tuần │ │
│  └───────────────────────────┘ │
│                                 │
│  ─────────────────────────────  │
│                                 │
│  🔍 Mô tả nhóm                  │
│  ┌───────────────────────────┐ │
│  │ Nhóm hành vi liên quan đến│ │
│  │ việc trẻ thể hiện sự chống│ │
│  │ đối, không tuân theo hướng│ │
│  │ dẫn hoặc yêu cầu của người│ │
│  │ lớn...                    │ │
│  │ [Đọc thêm ↓]              │ │
│  └───────────────────────────┘ │
│                                 │
│  ─────────────────────────────  │
│                                 │
│  📋 Danh sách Hành vi (2)       │
│                                 │
│  [🔤 A-Z] [📈 Phổ biến] [⭐ Đã lưu]│
│                                 │
│  ┌───────────────────────────┐ │
│  │ 😤 1.1 Ăn vạ          ⭐ 🎓│ │
│  │ Tantrums                  │ │
│  │ ──────────────────────    │ │
│  │ 📊 45× hệ thống           │ │
│  │ 👥 8× học sinh của bạn    │ │
│  │                           │ │
│  │ 📄 Biểu hiện ngắn:        │ │
│  │ Trẻ bộc phát cảm xúc một  │ │
│  │ cách dữ dội, không kiểm   │ │
│  │ soát được...              │ │
│  │                           │ │
│  │ [Xem chi tiết →]          │ │
│  └───────────────────────────┘ │
│                                 │
│  ┌───────────────────────────┐ │
│  │ 🙅 1.2 Từ chối làm theo⭐🎓│ │
│  │ Non-compliance            │ │
│  │ ──────────────────────    │ │
│  │ 📊 32× hệ thống           │ │
│  │ 👥 5× học sinh của bạn    │ │
│  │                           │ │
│  │ 📄 Biểu hiện ngắn:        │ │
│  │ Trẻ tỏ ra không nghe thấy,│ │
│  │ phớt lờ, hoặc nói "không" │ │
│  │ khi được yêu cầu...       │ │
│  │                           │ │
│  │ [Xem chi tiết →]          │ │
│  └───────────────────────────┘ │
│                                 │
│  ─────────────────────────────  │
│                                 │
│  💡 Mẹo chung cho nhóm          │
│  ┌───────────────────────────┐ │
│  │ • Giữ bình tĩnh, kiên nhẫn│ │
│  │ • Đưa ra yêu cầu rõ ràng  │ │
│  │ • Công nhận cảm xúc của trẻ│ │
│  │ • Tránh đối đầu trực tiếp │ │
│  │                           │ │
│  │ [Xem hướng dẫn chi tiết →]│ │
│  └───────────────────────────┘ │
│                                 │
├─────────────────────────────────┤
│ [🏠] [📝] [📊] [👤 Tôi]         │
└─────────────────────────────────┘
```

## Purpose

Danh sách hành vi theo nhóm với:

- Thống kê tổng quan của nhóm
- Mô tả đặc điểm chung của nhóm
- Danh sách đầy đủ các hành vi trong nhóm
- Preview ngắn về biểu hiện của từng hành vi
- Mẹo chung áp dụng cho cả nhóm

## Components

### Header

- Group icon & name (Vietnamese + English)
- Evidence-based badge (🎓)
- Back button to dictionary home
- Search icon for quick search within group

### Group Statistics

- Total behaviors in group
- System-wide occurrence count
- Personal usage count (teacher's students)
- Weekly trend for entire group

### Group Description

- Brief overview of the behavior group
- Common characteristics
- Age groups most affected
- Expandable for full description

### Behavior List

**Sort Options:**

- A-Z: Alphabetical by Vietnamese name
- Phổ biến: By system-wide popularity
- Đã lưu: Show favorited behaviors first

**Each Behavior Card Includes:**

- Icon + ID (e.g., 1.1, 1.2)
- Name (Vietnamese + English)
- Favorite star
- Evidence-based badge
- System statistics
- Personal statistics
- Short manifestation preview (2-3 lines)
- "Xem chi tiết" link to detail screen

### Group Tips Section

Common intervention strategies that apply to all behaviors in the group:

- General principles
- Prevention strategies
- Common triggers to avoid
- Link to detailed guide

## Interactions

- **Tap back** = Return to dictionary home (frame 18)
- **Tap search** = Search within this group
- **Tap sort option** = Reorder behavior list
- **Tap behavior card** = Navigate to behavior detail (frame 19)
- **Tap star** = Toggle favorite for that behavior
- **Expand description** = See full group description
- **Tap "Xem hướng dẫn"** = View comprehensive group guide

## Data Structure

### Group Information

**All 3 Groups:**

1. **CHỐNG ĐỐI & BƯỚNG BỈNH** (Opposition & Defiance)

   - Icon: 😤
   - Count: 2 behaviors
   - Behaviors: 1.1 Ăn vạ, 1.2 Từ chối làm theo yêu cầu
   - Description: "Nhóm hành vi liên quan đến việc trẻ thể hiện sự chống đối, không tuân theo hướng dẫn hoặc yêu cầu của người lớn. Đây là giai đoạn phát triển bình thường ở trẻ nhỏ khi trẻ khám phá tính tự chủ."
   - Common tips:
     - Giữ bình tĩnh, kiên nhẫn
     - Đưa ra yêu cầu rõ ràng, ngắn gọn
     - Công nhận cảm xúc của trẻ
     - Tránh đối đầu trực tiếp

2. **HÀNH VI GÂY HẤN** (Aggression)

   - Icon: 👊
   - Count: 1 behavior
   - Behaviors: 2.1 Đánh bạn
   - Description: "Nhóm hành vi sử dụng vũ lực hoặc hành động công kích để gây tổn hại cho người khác. Thường xuất phát từ nhu cầu giao tiếp, bảo vệ lãnh thổ, hoặc thiếu kỹ năng xã hội."
   - Common tips:
     - Can thiệp ngay lập tức
     - Đảm bảo an toàn cho tất cả trẻ
     - Dạy kỹ năng thay thế
     - Giám sát tích cực

3. **VẤN ĐỀ VỀ GIÁC QUAN** (Sensory Issues)
   - Icon: 👂
   - Count: 1 behavior
   - Behaviors: 3.1 Nhạy cảm với âm thanh
   - Description: "Nhóm vấn đề liên quan đến cách trẻ xử lý thông tin cảm giác (âm thanh, ánh sáng, xúc giác, v.v.). Rất phổ biến ở trẻ có rối loạn phổ tự kỷ và rối loạn xử lý cảm giác."
   - Common tips:
     - Điều chỉnh môi trường
     - Chuẩn bị trước cho trẻ
     - Không ép buộc
     - Cung cấp công cụ hỗ trợ

### Behavior Preview Data

Each behavior card shows:

- Full name (Vietnamese + English)
- ID (hierarchical)
- System stats
- Personal stats
- First 2-3 lines of manifestation as preview

Example previews:

**1.1 Ăn vạ:**
"Trẻ bộc phát cảm xúc một cách dữ dội, không kiểm soát được. Có thể la hét, khóc dai, nằm lăn ra đất..."

**1.2 Từ chối làm theo:**
"Trẻ tỏ ra không nghe thấy, phớt lờ, hoặc nói 'không' khi được yêu cầu làm một việc gì đó..."

**2.1 Đánh bạn:**
"Trẻ sử dụng hành động vật lý (tay, chân) để tác động lên cơ thể bạn khác, gây đau hoặc khó chịu..."

**3.1 Nhạy cảm với âm thanh:**
"Trẻ có phản ứng tiêu cực mạnh mẽ với những âm thanh mà người khác cho là bình thường..."

## Navigation Flow

```
Frame 18 (Dictionary Home)
    │
    ├─ Tap "Nhóm Hành vi" card
    │
    ▼
Frame 18.5 (Group List) ◄── YOU ARE HERE
    │
    ├─ Tap behavior card
    │
    ▼
Frame 19 (Behavior Detail)
```

## Related Screens

- **Previous**: 18-dictionary-home.md
- **Next**: 19-dictionary-detail.md
- **Alternative flows**:
  - From search results → directly to frame 19
  - From favorites → directly to frame 19

## Implementation Notes

### Backend Requirements

- Group metadata stored in database:
  - group_id, group_name_vn, group_name_en
  - group_description, group_icon
  - common_tips (JSON array)
- Aggregated statistics:
  - Total behaviors per group
  - Total occurrences per group (system-wide)
  - Total occurrences per group (teacher's students)
  - Weekly trend calculation

### API Endpoints Needed

```
GET /api/behavior-groups/:groupId
Response:
{
  "id": "group_1",
  "name_vn": "CHỐNG ĐỐI & BƯỚNG BỈNH",
  "name_en": "Opposition & Defiance",
  "icon": "😤",
  "description": "Nhóm hành vi liên quan đến...",
  "total_behaviors": 2,
  "system_occurrences": 77,
  "personal_occurrences": 13,
  "weekly_trend": "+18%",
  "behaviors": [
    {
      "id": "1.1",
      "name_vn": "Ăn vạ",
      "name_en": "Tantrums",
      "is_favorite": true,
      "system_count": 45,
      "personal_count": 8,
      "manifestation_preview": "Trẻ bộc phát cảm xúc..."
    }
  ],
  "common_tips": [
    "Giữ bình tĩnh, kiên nhẫn",
    "Đưa ra yêu cầu rõ ràng",
    "Công nhận cảm xúc của trẻ"
  ]
}
```

### UI/UX Considerations

- **Scrollable list**: Support long lists when groups have many behaviors
- **Empty state**: If group has no behaviors yet
- **Loading state**: Skeleton screens while fetching data
- **Pull to refresh**: Update statistics
- **Smooth transitions**: Animate between screens
- **Accessibility**: Screen reader support for all elements

### Performance

- Cache group data after first load
- Lazy load behavior details
- Prefetch frame 19 data on card press
- Optimize manifestation preview (limit to 100 characters)
